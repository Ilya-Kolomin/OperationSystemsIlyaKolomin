Before fix, the threads perfomred sequentially (ie the main thread ended and then other threads started).